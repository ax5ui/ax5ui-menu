"use strict";!function(e,t){var n=ax5.util,i=function(){var e,i=this;t&&t.call(this),this.config={theme:"default",width:100,direction:"top-left",animateTime:250,items:[]},this.openTimer=null,this.closeTimer=null,this.queue=[],e=this.config,this.init=function(){i.menuId=ax5.getGuid()},this.__getTmpl=function(){return'\n            <div class="ax5-ui-menu {{theme}}">\n                <div class="ax-menu-body">\n                    {{#items}}\n                    <div class="ax-menu-item" data-menu-item-depth="{{@depth}}" data-menu-item-index="{{@i}}">\n                        <span class="ax-menu-item-cell ax-menu-item-icon">{{{icon}}}</span>\n                        <span class="ax-menu-item-cell ax-menu-item-label">{{{label}}}</span>\n                        {{#accelerator}}\n                        <span class="ax-menu-item-cell ax-menu-item-accelerator">{{.}}</span>\n                        {{/accelerator}}\n                        {{#@hasChild}}\n                        <span class="ax-menu-item-cell ax-menu-item-handle">{{{cfg.icons.arrow}}}</span>\n                        {{/@hasChild}}\n                    </div>\n                    {{/items}}\n                </div>\n                <div class="ax-menu-arrow"></div>\n            </div>\n            '},this.__popup=function(t,n,i){var s,a=t;a.theme=t.theme||e.theme,a.cfg={icons:jQuery.extend({},e.icons)},a.items=n,a["@depth"]=i,a["@hasChild"]=function(){return this.items&&this.items.length>0},s=jQuery(ax5.mustache.render(this.__getTmpl(),a)),jQuery(document.body).append(s);var u=this.queue.splice(i);return u.forEach(function(e){e.$target.remove()}),this.queue.push({$target:s}),this.__align(s,a),this},this.__align=function(e,t){return e.css({left:t.left,top:t.top,width:t.width}),this},this.popup=function(){var t={event:function(t,n){return t={left:t.clientX,top:t.clientY,width:e.width,theme:e.theme,direction:e.direction},n=jQuery.extend(!0,t,n)},object:function(t,n){return t={left:t.left,top:t.top,width:t.width||e.width,theme:t.theme||e.theme,direction:t.direction||e.direction},n=jQuery.extend(!0,t,n)}};return function(n,i){return n?(i=t["undefined"==typeof n.clientX?"object":"event"].call(this,n,i),this.__popup(i,e.items,0),this):this}}(),this.close=function(){return this},this.main=function(){arguments&&n.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};e.menu=function(){return n.isFunction(t)&&(i.prototype=new t),i}()}(ax5.ui,ax5.ui.root);